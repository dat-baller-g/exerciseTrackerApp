<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>My Exercise Tracker App</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/exercise.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Staatliches&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Acme&family=Staatliches&display=swap" rel="stylesheet">

</head>

<body >
  <h1>My Exercise Tracker App</h1>
  <input type="button" name="" value="Switch Theme" id="switch-btn" class="btn btn-primary btn-sm">
  <div class="form-container">
    <div class="signup-div">
      <form class="signup" action="/api/users" method="post">
        <h3 class="small-heading">Create username.</h3>
        <input type="text" name="username" value="" placeholder="Username" required>
        <br>
        <input type="submit" name="submit" class="btn btn-success btn-sm"></input>

      </form>

    </div>

    <div class="exercise-div">
      <form id="exercise-form" action="/api/users/:username/exercise" method="post">
        <h3 class="small-heading">Login exercise details.</h3>
        <input id="uname" type="text" name=":username" value="" placeholder="* Username" required>
        <br>
        <input type="text" name="description" value="" placeholder="* Description of exercise" required>
        <br>
        <input type="text" name="duration" value="" placeholder="* Duration (mins)" required>
        <br>
        <input type="text" name="date" value="" placeholder="Date (yyyy/mm/dd)">
        <br>
        <button type="submit" name="submit" class="btn btn-success btn-sm">Submit</button>

      </form>
    </div>



  </div>

  <div class="popup" onclick="myFunction()">Click me!
  <span class="popuptext" id="myPopup">
    <ul>
      <li>Register with your unique username.</li>
      <li>Login using your unique username, and log your exercise details.  </li>
      <li>to view your exercise log, add "/logs" to the url </li>
      <li>to view your from a particular period, add "/logs?&from=date&to=date"</li>
      <li>to determine the number of exercise logs to display, add "&limit=number"</li>
    </ul>
  </span>
  </div>






  <script>
    const exerciseForm = document.getElementById("exercise-form");

    exerciseForm.addEventListener("submit", () => {
      const userName = document.getElementById("uname").value;
      exerciseForm.action = `/api/users/${userName}/exercise`;

      exerciseForm.submit();
    });

    function myFunction() {
    var popup = document.getElementById("myPopup");
  popup.classList.toggle("show");
}

const switchTheme = document.getElementById("switch-btn");
switchTheme.addEventListener("click", function(){
  document.body.classList.toggle("dark-theme")
})
  </script>

</body>

</html>
